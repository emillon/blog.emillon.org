<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Enter the void * - VCSH : Git goodness for dotfiles</title>
        <link rel="stylesheet" type="text/css" href="../css/bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="../css/extra.css" />
        <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
        <link rel="alternate" type="application/rss+xml" title="Enter the void *" href="../rss.xml" />
        <link rel="shortcut icon" href="../favicon.ico" />
        <link href="http://fonts.googleapis.com/css?family=Merriweather:400,300" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <div class="header container">
            <h1 class="maintitle">Enter the void *</h1>
               <div class="nav-hdr">
                   <ul>
                      <li><a href="../">Home</a></li>
                      <li><a href="../posts.html">All posts</a></li>
                      <li><a href="../rss.xml">Feed</a></li>
                      <li><a href="https://github.com/emillon">Github</a></li>
                      <li><a href="https://qa.debian.org/developer.php?login=me%40emillon.org">Debian</a></li>
                      <li><a href="https://twitter.com/etiennemillon">Twitter</a></li>
                   </ul>
                </div>
        </div>
        <div class="maincontainer container">
          <div class="col-md-8 col-md-offset-2">
            <h1>VCSH : Git goodness for dotfiles</h1>

<p>by <em>Etienne Millon</em> on <strong>No date</strong></p>

<p>Tagged as: .</p>

<h2 id="managing-dotfiles">Managing dotfiles</h2>
<p>As a unix user and programmer, almost all the configuration on my system happens
in text files. Text files are great because you can easily read and edit them
with your favorite text editor, you can comment them, and you can share them.</p>
<p>So, pretty much like code ? The next logical step would be to put them in a VCS.
However, it turns out that people don’t do it. I guess that the main reasons are:</p>
<ul>
<li>it’s too specific to me / my machine.</li>
<li>it’s a mess.</li>
<li>putting <code>$HOME</code> under a VCS is too dangerous.</li>
</ul>
<p>Well, it turns out that they are good reasons :-) Some solutions have emerged,
though.</p>
<h3 id="home-under-a-vcs">$HOME under a VCS</h3>
<p>That’s right. A <code>~/.git/</code> directory to manage all your files. This… works but
has major pitfalls :</p>
<ul>
<li>you have to ignore everything by default.</li>
<li>everything sits in the same directory.</li>
<li>a <code>git clean</code> will make you very sorry.</li>
</ul>
<h3 id="one-repository-and-symlinks">One repository and symlinks</h3>
<p>A <code>~/conf/</code> git repository with your real, versionned dotfiles, plus</p>
<h3 id="n-repositories-and-symlinks">n repositories and symlinks</h3>
<h2 id="enter-vcsh">Enter vcsh</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">#!/usr/bin/env perl</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">my</span> <span class="dt">$path</span>;</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="kw">my</span> <span class="dt">$url</span>;</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="kw">while</span> (&lt;&gt;) {</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">if</span> (<span class="ot">/</span><span class="ch">^</span><span class="ot">\[submodule/</span>) {</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> (<span class="fu">defined</span> <span class="dt">$path</span> <span class="ot">and</span> <span class="fu">defined</span> <span class="dt">$url</span>) {</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span> <span class="ot">&quot;</span><span class="st">[\$HOME/</span><span class="dt">$path</span><span class="st">]</span><span class="ch">\n</span><span class="ot">&quot;</span>;</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span> <span class="ot">&quot;</span><span class="st">checkout = git clone </span><span class="dt">$url</span><span class="ch">\n</span><span class="ot">&quot;</span>;</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  } <span class="kw">elsif</span> (<span class="ot">/path = </span><span class="ch">(</span><span class="ot">.</span><span class="ch">*)$</span><span class="ot">/</span>) {</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">$path</span> = <span class="wa">$1</span>;</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  } <span class="kw">elsif</span> (<span class="ot">/url = </span><span class="ch">(</span><span class="ot">.</span><span class="ch">*)$</span><span class="ot">/</span>) {</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">$url</span> = <span class="wa">$1</span>;</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  } <span class="kw">else</span> {</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">die</span> <span class="ot">&quot;</span><span class="st">Parse error</span><span class="ot">&quot;</span>;</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="vcsh-the-good">vcsh : The good</h2>
<h2 id="vcsh-the-bad">vcsh : The bad</h2>
<h2 id="vcsh-the-ugly">vcsh : The ugly</h2>



          </div>
        </div>
        <div class="footer container">
            <p>
                I love feedback! Feel free to catch me on twitter
                (<a href="https://twitter.com/etiennemillon">@etiennemillon</a>)
                or drop me mail (me AT emillon DOT org).
            </p>
        </div>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-51676253-1', 'emillon.org');
          ga('send', 'pageview');

        </script>
    </body>
</html>
